/******************************************************************************
 * NanoH7 - UAV firmware base on RT-Thread
 * Copyright (C) 2023 - 2025 Althrone <mail>
 * 
 * @file    rt-thread\bsp\stm32\rcf-nano-h7\protocol\uds\iso15765_2_cfg.c
 * 
 * ref: Specification of <some UM RM or Datasheet>
 *****************************************************************************/

/******************************************************************************
 * includes
 *****************************************************************************/

#include "iso15765_2_cfg.h"

/******************************************************************************
 * private macros
 *****************************************************************************/

/******************************************************************************
 * pubilc variables
 *****************************************************************************/

N_SDU g_n_sdu_tbl[]={
    {
        .can_id=0x700,
        .is_extended=false,
        .Mtype = kDiagnostics,//无N_AE
        .N_AI = {
            .N_TAtype = kPhyCanBaseFmt,//限定为11位classical can 物理地址
        },
        //只有这两个可修改
        .STmin = 10,//10ms
        .BS = 8,//8帧

        .RX_DL = 8,//默认为8
    },
    {
        .can_id=0x7df,
        .is_extended=false,
        .Mtype = kDiagnostics,//无N_AE
        .N_AI = {
            .N_TAtype = kFuncCanBaseFmt,//限定为11位classical can 功能地址
        },
        //只有这两个可修改
        .STmin = 10,//10ms
        .BS = 8,//8帧

        .RX_DL = 8,//默认为8
    },

    //N_SA和N_TA只有特殊开头的29bit id才做识别
    //Normal fixed
    // 0b100 0 0 218 N_TA N_SA extid phy
    // 0b100 0 0 219 N_TA N_SA extid func
    //Mixed addressing
    // 0b100 0 0 206 N_TA N_SA N_AE remote diag extid phy
    // 0b100 0 0 205 N_TA N_SA N_AE remote diag extid func
};

const size_t kg_num_of_sdu=sizeof(g_n_sdu_tbl)/sizeof(N_SDU);

/******************************************************************************
 * private types
 *****************************************************************************/

/******************************************************************************
 * private variables
 *****************************************************************************/

/******************************************************************************
 * private functions declaration
 *****************************************************************************/

/******************************************************************************
 * pubilc functions definition
 *****************************************************************************/

/******************************************************************************
 * private functions definition
 *****************************************************************************/
